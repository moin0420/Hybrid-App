{"ast":null,"code":"import _objectSpread from\"C:/Users/GulamK/hybrid-app-new/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useRef,useState,useEffect}from\"react\";import axios from\"axios\";import Table from\"./components/Table.jsx\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const tableRef=useRef();const[currentUser,setCurrentUser]=useState(\"\");const[error,setError]=useState(\"\");// ðŸ”¹ Inline error state\nconst[newReq,setNewReq]=useState({requirementId:\"\",title:\"\",client:\"\",slots:1,status:\"Open\"});// === Ask user name on first visit ===\nuseEffect(()=>{let user=localStorage.getItem(\"recruiterName\");if(!user){user=prompt(\"Enter your name:\");if(user)localStorage.setItem(\"recruiterName\",user);}setCurrentUser(user||\"Anonymous\");},[]);// === Add new requisition ===\nconst handleAddRow=async()=>{setError(\"\");// Clear previous error\nif(!newReq.requirementId.trim()||!newReq.title.trim()||!newReq.client.trim()){setError(\"Please fill all mandatory fields â€” Requirement ID, Job Title, and Client.\");return;}try{var _tableRef$current;await axios.post(\"/api/requisitions\",newReq);setNewReq({requirementId:\"\",title:\"\",client:\"\",slots:1,status:\"Open\"});(_tableRef$current=tableRef.current)===null||_tableRef$current===void 0?void 0:_tableRef$current.fetchRows();}catch(err){var _err$response,_err$response$data;console.error(err);if((_err$response=err.response)!==null&&_err$response!==void 0&&(_err$response$data=_err$response.data)!==null&&_err$response$data!==void 0&&_err$response$data.message){setError(err.response.data.message);}else{setError(\"Error adding new requisition. Please try again.\");}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 min-h-screen bg-gray-50 text-gray-800\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Logged in as: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:currentUser})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-req-container\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-xs font-semibold text-gray-600\",children:[\"Requirement ID \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-1 rounded w-40 \".concat(error&&!newReq.requirementId?\"border-red-400 bg-red-50\":\"\"),value:newReq.requirementId,onChange:e=>setNewReq(_objectSpread(_objectSpread({},newReq),{},{requirementId:e.target.value}))}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 text-xs mt-1 w-64\",children:error})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-xs font-semibold text-gray-600\",children:[\"Job Title \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-1 rounded w-48 \".concat(error&&!newReq.title?\"border-red-400 bg-red-50\":\"\"),value:newReq.title,onChange:e=>setNewReq(_objectSpread(_objectSpread({},newReq),{},{title:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-xs font-semibold text-gray-600\",children:[\"Client \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-1 rounded w-48 \".concat(error&&!newReq.client?\"border-red-400 bg-red-50\":\"\"),value:newReq.client,onChange:e=>setNewReq(_objectSpread(_objectSpread({},newReq),{},{client:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-semibold text-gray-600\",children:\"Slots\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"border p-1 rounded w-20 text-center\",min:\"1\",value:newReq.slots,onChange:e=>setNewReq(_objectSpread(_objectSpread({},newReq),{},{slots:Number(e.target.value)}))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-semibold text-gray-600\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"border p-1 rounded\",value:newReq.status,onChange:e=>setNewReq(_objectSpread(_objectSpread({},newReq),{},{status:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{children:\"Open\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Closed\"}),/*#__PURE__*/_jsx(\"option\",{children:\"On Hold\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Filled\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Cancelled\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"add-req-btn\",onClick:handleAddRow,children:\"+ Add Requirement\"})]}),/*#__PURE__*/_jsx(Table,{ref:tableRef})]});}export default App;","map":{"version":3,"names":["React","useRef","useState","useEffect","axios","Table","jsx","_jsx","jsxs","_jsxs","App","tableRef","currentUser","setCurrentUser","error","setError","newReq","setNewReq","requirementId","title","client","slots","status","user","localStorage","getItem","prompt","setItem","handleAddRow","trim","_tableRef$current","post","current","fetchRows","err","_err$response","_err$response$data","console","response","data","message","className","children","concat","value","onChange","e","_objectSpread","target","type","min","Number","onClick","ref"],"sources":["C:/Users/GulamK/hybrid-app-new/frontend/src/App.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Table from \"./components/Table.jsx\";\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  const tableRef = useRef();\r\n  const [currentUser, setCurrentUser] = useState(\"\");\r\n  const [error, setError] = useState(\"\"); // ðŸ”¹ Inline error state\r\n  const [newReq, setNewReq] = useState({\r\n    requirementId: \"\",\r\n    title: \"\",\r\n    client: \"\",\r\n    slots: 1,\r\n    status: \"Open\",\r\n  });\r\n\r\n  // === Ask user name on first visit ===\r\n  useEffect(() => {\r\n    let user = localStorage.getItem(\"recruiterName\");\r\n    if (!user) {\r\n      user = prompt(\"Enter your name:\");\r\n      if (user) localStorage.setItem(\"recruiterName\", user);\r\n    }\r\n    setCurrentUser(user || \"Anonymous\");\r\n  }, []);\r\n\r\n  // === Add new requisition ===\r\n  const handleAddRow = async () => {\r\n    setError(\"\"); // Clear previous error\r\n    if (\r\n      !newReq.requirementId.trim() ||\r\n      !newReq.title.trim() ||\r\n      !newReq.client.trim()\r\n    ) {\r\n      setError(\"Please fill all mandatory fields â€” Requirement ID, Job Title, and Client.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await axios.post(\"/api/requisitions\", newReq);\r\n      setNewReq({\r\n        requirementId: \"\",\r\n        title: \"\",\r\n        client: \"\",\r\n        slots: 1,\r\n        status: \"Open\",\r\n      });\r\n      tableRef.current?.fetchRows();\r\n    } catch (err) {\r\n      console.error(err);\r\n      if (err.response?.data?.message) {\r\n        setError(err.response.data.message);\r\n      } else {\r\n        setError(\"Error adding new requisition. Please try again.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 min-h-screen bg-gray-50 text-gray-800\">\r\n      <header className=\"mb-4\">\r\n        <div className=\"text-sm text-gray-600\">\r\n          Logged in as: <span className=\"font-semibold\">{currentUser}</span>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"add-req-container\">\r\n        {/* === Requirement ID === */}\r\n        <div>\r\n          <label className=\"block text-xs font-semibold text-gray-600\">\r\n            Requirement ID <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <input\r\n            className={`border p-1 rounded w-40 ${\r\n              error && !newReq.requirementId ? \"border-red-400 bg-red-50\" : \"\"\r\n            }`}\r\n            value={newReq.requirementId}\r\n            onChange={(e) =>\r\n              setNewReq({ ...newReq, requirementId: e.target.value })\r\n            }\r\n          />\r\n          {/* ðŸ”¹ Inline Error Message */}\r\n          {error && (\r\n            <div className=\"text-red-500 text-xs mt-1 w-64\">{error}</div>\r\n          )}\r\n        </div>\r\n\r\n        {/* === Job Title === */}\r\n        <div>\r\n          <label className=\"block text-xs font-semibold text-gray-600\">\r\n            Job Title <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <input\r\n            className={`border p-1 rounded w-48 ${\r\n              error && !newReq.title ? \"border-red-400 bg-red-50\" : \"\"\r\n            }`}\r\n            value={newReq.title}\r\n            onChange={(e) => setNewReq({ ...newReq, title: e.target.value })}\r\n          />\r\n        </div>\r\n\r\n        {/* === Client === */}\r\n        <div>\r\n          <label className=\"block text-xs font-semibold text-gray-600\">\r\n            Client <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <input\r\n            className={`border p-1 rounded w-48 ${\r\n              error && !newReq.client ? \"border-red-400 bg-red-50\" : \"\"\r\n            }`}\r\n            value={newReq.client}\r\n            onChange={(e) => setNewReq({ ...newReq, client: e.target.value })}\r\n          />\r\n        </div>\r\n\r\n        {/* === Slots === */}\r\n        <div>\r\n          <label className=\"block text-xs font-semibold text-gray-600\">\r\n            Slots\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            className=\"border p-1 rounded w-20 text-center\"\r\n            min=\"1\"\r\n            value={newReq.slots}\r\n            onChange={(e) =>\r\n              setNewReq({ ...newReq, slots: Number(e.target.value) })\r\n            }\r\n          />\r\n        </div>\r\n\r\n        {/* === Status === */}\r\n        <div>\r\n          <label className=\"block text-xs font-semibold text-gray-600\">\r\n            Status\r\n          </label>\r\n          <select\r\n            className=\"border p-1 rounded\"\r\n            value={newReq.status}\r\n            onChange={(e) => setNewReq({ ...newReq, status: e.target.value })}\r\n          >\r\n            <option>Open</option>\r\n            <option>Closed</option>\r\n            <option>On Hold</option>\r\n            <option>Filled</option>\r\n            <option>Cancelled</option>\r\n          </select>\r\n        </div>\r\n\r\n        <button className=\"add-req-btn\" onClick={handleAddRow}>\r\n          + Add Requirement\r\n        </button>\r\n      </div>\r\n\r\n      <Table ref={tableRef} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}